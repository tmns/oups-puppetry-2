{% extends "layouts/base.html" %}
{% set pageCriticalStyles = ['css/with-toc.css'] %}

{% set pageHeaderTitle = title %}
{% set pageHeaderSummary = heading.summary %}
{% set collectionItems = collections[collection] %}

{# If there is only one tourDate item, this means we only have our template tour date
   present. Thus, we need to render the place holder (no upcoming dates) instead. #}
{% if collection == 'tourDates' and collectionItems.length == 1 %}
{% set collectionItems = collections['placeholders'] %}
{% endif %}

{% block content %}
  {% include "partials/page-header.html" %}
  {% block tocData %}{% endblock %}
  <article class="[ with-toc ] [ bg-quinary ] [ responsive-text color-light-glare ]">
    <svg class="wavy-separator" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill-opacity="1" d="M0,192L12,176C24,160,48,128,72,138.7C96,149,120,203,144,192C168,181,192,107,216,64C240,21,264,11,288,10.7C312,11,336,21,360,37.3C384,53,408,75,432,74.7C456,75,480,53,504,80C528,107,552,181,576,192C600,203,624,149,648,133.3C672,117,696,139,720,144C744,149,768,139,792,149.3C816,160,840,192,864,208C888,224,912,224,936,208C960,192,984,160,1008,149.3C1032,139,1056,149,1080,133.3C1104,117,1128,75,1152,80C1176,85,1200,139,1224,154.7C1248,171,1272,149,1296,133.3C1320,117,1344,107,1368,90.7C1392,75,1416,53,1428,42.7L1440,32L1440,320L1428,320C1416,320,1392,320,1368,320C1344,320,1320,320,1296,320C1272,320,1248,320,1224,320C1200,320,1176,320,1152,320C1128,320,1104,320,1080,320C1056,320,1032,320,1008,320C984,320,960,320,936,320C912,320,888,320,864,320C840,320,816,320,792,320C768,320,744,320,720,320C696,320,672,320,648,320C624,320,600,320,576,320C552,320,528,320,504,320C480,320,456,320,432,320C408,320,384,320,360,320C336,320,312,320,288,320C264,320,240,320,216,320C192,320,168,320,144,320C120,320,96,320,72,320C48,320,24,320,12,320L0,320Z"></path></svg>
    <div class="with-toc__inner">
      <div class="toc-container">
        {% set navItems = collectionItems %}
        {% include "partials/toc.html" %}
      </div>
      <div class="artifacts-container">
        {% for item in collectionItems %}
        {% include "partials/artifact.html" %}
        {% endfor %}
      </div>
    </div>
  </article>
{% endblock %}